/* ===========================================
   HEAVY STYLE GUIDE EXTENSIONS
   Heavy-specific documentation classes that
   layer on top of the heavy-style-guide framework.
   =========================================== */

/* --- Bridge Tokens ---
   Maps old unprefixed names used by style-guide.css
   to the renamed --hds-* tokens in main.css. */

:root {
  --space-2: var(--hds-space-2);
  --space-4: var(--hds-space-4);
  --space-8: var(--hds-space-8);
  --space-12: var(--hds-space-12);
  --space-16: var(--hds-space-16);
  --space-24: var(--hds-space-24);
  --space-48: var(--hds-space-48);
  --spacing-xl: var(--hds-spacing-xl);
  --grid-gutter: var(--hds-grid-gutter);
  --font-family: var(--hds-font-family);
  --font-size-body: var(--hds-font-size-body);
  --font-size-body-sm: var(--hds-font-size-body-sm);
  --font-size-body-xs: var(--hds-font-size-body-xs);
  --radius-sm: var(--hds-radius-sm);
  --radius-md: var(--hds-radius-md);
  --typography-heading-6-size: var(--hds-typography-heading-6-size);
  --typography-heading-6-weight: var(--hds-typography-heading-6-weight);
  --typography-heading-6-line-height: var(--hds-typography-heading-6-line-height);
  --typography-heading-6-family: var(--base-font-primary);
  --ui-bg-default: var(--hds-bg-default);
  --ui-bg-surface: var(--hds-surface-default);
  --ui-surface-default: var(--hds-surface-default);
  --ui-text-default: var(--hds-text-default);
  --ui-text-strong: var(--hds-text-strong);
  --ui-text-disabled: var(--hds-text-disabled);
  --ui-border-default: var(--hds-border-default);
  --ui-border-strong: var(--hds-border-strong);
  --ui-action-primary: var(--hds-action-primary);
  --base-color-black-100: #000000;
}

/* --- Section Names (JetBrains Mono to match <th>) --- */

.style-guide-section-name {
  font-family: var(--base-font-secondary);
  top: var(--style-guide-page-padding);
}

.hds-playground-code {
  font-family: var(--base-font-secondary);
  font-size: var(--font-size-body-sm);
}

/* --- Simulated Interactive States --- */

/* Buttons */
.hds-btn--primary.is-hover { background: var(--hds-action-primary-bg-hover); }
.hds-btn--primary.is-active { background: var(--hds-action-primary-bg-active); }
.hds-btn--primary.is-disabled { background: var(--hds-action-primary-bg-disabled); color: var(--hds-action-primary-text-disabled); }
.hds-btn--secondary.is-hover { background: var(--hds-action-secondary-bg-hover); }
.hds-btn--secondary.is-active { background: var(--hds-action-secondary-bg-active); }
.hds-btn--secondary.is-disabled { background: var(--hds-action-secondary-bg-disabled); color: var(--hds-action-secondary-text-disabled); }
.hds-btn--danger.is-hover { border-color: var(--hds-action-danger-border-hover); }
.hds-btn--danger.is-active { border-color: var(--hds-action-danger-border-active); }
.hds-btn--danger.is-disabled { border-color: var(--hds-action-danger-border-disabled); color: var(--hds-action-danger-text-disabled); }
.hds-btn--tertiary.is-hover { border-color: var(--hds-action-tertiary-border-hover); }
.hds-btn--tertiary.is-active { border-color: var(--hds-action-tertiary-border-active); }
.hds-btn--tertiary.is-disabled { border-color: var(--hds-action-tertiary-border-disabled); color: var(--hds-action-tertiary-text-disabled); }
.hds-btn.is-focus { outline: 2px solid var(--hds-action-primary); outline-offset: 2px; }

/* Button Icons */
.hds-btn-icon--primary.is-hover { background: var(--hds-action-primary-bg-hover); }
.hds-btn-icon--primary.is-active { background: var(--hds-action-primary-bg-active); }
.hds-btn-icon--primary.is-disabled { background: var(--hds-action-primary-bg-disabled); color: var(--hds-action-primary-text-disabled); cursor: not-allowed; }
.hds-btn-icon--secondary.is-hover { background: var(--hds-action-secondary-bg-hover); }
.hds-btn-icon--secondary.is-active { background: var(--hds-action-secondary-bg-active); }
.hds-btn-icon--secondary.is-disabled { background: var(--hds-action-secondary-bg-disabled); color: var(--hds-action-secondary-text-disabled); cursor: not-allowed; }
.hds-btn-icon--danger.is-hover { border-color: var(--hds-action-danger-border-hover); }
.hds-btn-icon--danger.is-active { border-color: var(--hds-action-danger-border-active); }
.hds-btn-icon--danger.is-disabled { border-color: var(--hds-action-danger-border-disabled); color: var(--hds-action-danger-text-disabled); cursor: not-allowed; }
.hds-btn-icon--tertiary.is-hover { border-color: var(--hds-action-tertiary-border-hover); }
.hds-btn-icon--tertiary.is-active { border-color: var(--hds-action-tertiary-border-active); }
.hds-btn-icon--tertiary.is-disabled { border-color: var(--hds-action-tertiary-border-disabled); color: var(--hds-action-tertiary-text-disabled); cursor: not-allowed; }
.hds-btn-icon.is-focus { outline: 2px solid var(--hds-action-primary); outline-offset: 2px; }

/* Chips (inactive) */
.hds-chip.is-hover { border-color: var(--hds-text-default); color: var(--hds-text-strong); }
.hds-chip.is-active { background: var(--hds-surface-default); border-color: var(--hds-text-strong); color: var(--hds-text-strong); }
.hds-chip.is-focus { outline: 2px solid var(--hds-action-primary); outline-offset: 2px; }
.hds-chip.is-disabled { color: var(--hds-text-disabled); border-color: var(--hds-border-default); cursor: not-allowed; opacity: 0.5; }

/* Chips (active) */
.hds-chip--active.is-hover { background: var(--hds-action-primary-bg-hover); border-color: var(--hds-action-primary-bg-hover); }
.hds-chip--active.is-active { background: var(--hds-action-primary-bg-active); border-color: var(--hds-action-primary-bg-active); }
.hds-chip--active.is-disabled { background: var(--hds-action-primary-bg-disabled); border-color: var(--hds-action-primary-bg-disabled); color: var(--hds-action-primary-text-disabled); opacity: 1; }

/* Selects */
.hds-select.is-hover { border-color: var(--hds-forms-input-border-hover); }
.hds-select.is-focus { border-color: var(--hds-forms-input-border-focus); }
.hds-select.is-disabled { color: var(--hds-forms-input-text-disabled); background-image: var(--select-chevron-disabled); cursor: not-allowed; }

/* Search */
.hds-search.is-hover input { border-color: var(--hds-forms-input-border-hover); }
.hds-search.is-focus input { border-color: var(--hds-forms-input-border-focus); }
.hds-search.is-disabled input { color: var(--hds-forms-input-text-disabled); cursor: not-allowed; }
.hds-search.is-disabled::before { background-color: var(--hds-forms-input-icon-disabled); }

/* Links */
.hds-link.is-hover { text-decoration-color: var(--hds-text-strong); }
.hds-link.is-active { color: var(--hds-text-default); text-decoration-color: var(--hds-text-default); }
.hds-link.is-focus { outline: 2px solid var(--hds-action-primary); outline-offset: 2px; border-radius: var(--hds-radius-sm); }
.hds-link.is-visited { color: var(--hds-text-default); }
.hds-link.is-disabled { color: var(--hds-text-disabled); text-decoration-color: var(--hds-text-disabled); cursor: not-allowed; }

/* Cards */
.hds-card--interactive.is-hover { background: var(--hds-action-secondary-bg-hover); }
.hds-card--interactive.is-active { background: var(--hds-action-secondary-bg-active); }

/* List Items */
.hds-list-item--interactive.is-hover { background: var(--hds-surface-default); }

/* Form Inputs */
.hds-form-input.is-hover { border-color: var(--hds-forms-input-border-hover); }
.hds-form-input.is-focus { border-color: var(--hds-forms-input-border-focus); }
.hds-form-input.is-disabled { color: var(--hds-forms-input-text-disabled); cursor: not-allowed; }

/* --- Dual Color Table (dark + light side by side) --- */

.style-guide-data-table--visual.style-guide-data-table--dual {
  @media (min-width: 768px) {
    & th:first-child, & td:first-child { grid-column: span 1; }
    & th:nth-child(2), & td:nth-child(2) { grid-column: span 2; }
    & th:nth-child(3), & td:nth-child(3) { grid-column: span 1; }
    & th:nth-child(4), & td:nth-child(4) { grid-column: span 1; }
    & th:nth-child(5), & td:nth-child(5) { grid-column: span 2; }
    & th:last-child, & td:last-child { grid-column: span 1; }
  }
}

/* --- Playground Theme Toggle --- */

.hds-playground-theme-toggle {
  position: absolute;
  top: var(--space-8, 8px);
  right: var(--space-8, 8px);
  z-index: 1;
}

.style-guide-playground-preview[data-theme] {
  background-color: var(--hds-bg-default);
}

/* --- Page Intro (Heavy alias) --- */

.page-intro {
  padding-block: var(--hds-space-40);

  @media (min-width: 768px) {
    grid-column: 1 / -1;
  }
}

.style-guide-page-intro p {
  font-family: var(--base-font-primary);
}

/* --- Stat Grid --- */

.stat-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--hds-grid-gutter);
  margin-bottom: var(--hds-spacing-3xl);

  @media (min-width: 768px) {
    grid-column: 1 / -1;
    grid-template-columns: subgrid;
    align-items: baseline;

    & > h2 { grid-column: 1 / 3; }
    & > .stat-block { grid-column: span 2; }
  }
}

/* --- Wide Playground --- */

.style-guide-playground--wide {
  @media (min-width: 768px) {
    grid-column: 3 / 11;
  }
}

/* --- Subgrid --- */

.style-guide-subgrid {
  @media (min-width: 768px) {
    display: grid;
    grid-template-columns: subgrid;
    row-gap: var(--hds-space-24);
  }
}

/* --- Variants --- */

.style-guide-variants {
  display: grid;
  grid-template-columns: subgrid;
  align-items: end;

  & > *:not([class*="hds-col-span"]) {
    grid-column: span 1;
    min-width: 0;
  }
}

/* --- Sample Grid --- */

.style-guide-sample-grid {
  @media (min-width: 768px) {
    display: grid;
    grid-template-columns: subgrid;

    & > .type-sample, & > .spacing-row {
      grid-column: 1 / -1;
      display: grid;
      grid-template-columns: subgrid;
      align-items: baseline;
      padding-block: var(--hds-space-8);
      border-bottom: 1px solid var(--ui-border-default);

      &:last-child { border-bottom: none; }
      & > :first-child { grid-column: span 2; }
      & > :last-child { grid-column: span 6; }
    }
  }
}

/* --- Color Grid --- */

.style-guide-color-grid {
  @media (min-width: 768px) {
    display: grid;
    grid-template-columns: subgrid;
    row-gap: var(--hds-grid-gutter);
  }

  & .sg-color-family { grid-column: span 2; }
}

.sg-color-family {
  display: flex;
  flex-direction: column;
  gap: var(--hds-space-4);
}

.sg-color-family-name {
  font-size: var(--hds-font-size-body-xs);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--ui-text-default);
}

.sg-color-swatches {
  display: flex;
  gap: var(--hds-space-4);
}

.sg-color-swatch {
  width: 32px;
  height: 32px;
  border-radius: var(--hds-radius-sm);
}

/* --- Type Samples --- */

.type-sample {
  display: flex;
  align-items: baseline;
  gap: var(--hds-space-16);
  padding: var(--hds-space-8) 0;
  border-bottom: 1px solid var(--ui-border-default);

  &:last-child { border-bottom: none; }
}

.sample-label {
  font-size: var(--hds-font-size-body-xs);
  color: var(--ui-text-default);
}

/* --- Spacing Rows --- */

.spacing-row {
  display: flex;
  align-items: center;
  gap: var(--hds-space-16);
  padding: var(--hds-space-4) 0;
}

/* --- Flow Steps --- */

.flow-steps {
  font-size: var(--hds-font-size-body-sm);
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: var(--hds-space-8);

  @media (min-width: 768px) {
    display: grid;
    grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
  }
}

.flow-step {
  display: flex;
  align-items: center;
  gap: var(--hds-space-8);
  color: var(--ui-text-strong);
}

.flow-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: var(--hds-radius-full);
  background: var(--ui-action-primary);
  color: var(--ui-bg-default);
  font-size: var(--hds-font-size-body-xs);
  font-weight: 400;
  flex-shrink: 0;
}

.flow-arrow {
  color: var(--ui-text-disabled);
  font-size: var(--hds-font-size-body);
  text-align: center;
}

/* --- Demo Containers --- */

.style-guide-demo {
  border: 1px solid var(--ui-border-default);
  border-radius: var(--hds-radius-md);
  padding: var(--hds-space-16);
  overflow: hidden;
}

.style-guide-demo + .style-guide-demo { margin-top: var(--hds-space-16); }

.style-guide-demo-box {
  background: var(--ui-action-primary);
  border-radius: var(--hds-radius-sm);
  padding: var(--hds-space-8) var(--hds-space-12);
  font-size: var(--hds-font-size-body-xs);
  color: var(--ui-action-primary-text);
  min-height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}
